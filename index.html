<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>×××–× ×™ ×”×“×™×Ÿ - ×¤×“×™×•×Ÿ ×ª×¢× ×™×•×ª 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;700&family=Frank+Ruhl+Libre:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root { --gold: #c5a059; --dark: #020617; }
        body { font-family: 'Assistant', sans-serif; background-color: var(--dark); color: #f1f5f9; margin: 0; padding: 10px; overflow-x: hidden; }
        
        /* ×œ×”×‘×•×ª ×”×’×™×”× ×•× - ×××—×•×¨×™ ×”×ª×•×›×Ÿ */
        #hell-overlay {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 0%;
            background: linear-gradient(to top, #7f1d1d, #f97316, transparent);
            box-shadow: 0 0 100px rgba(127, 29, 29, 0.7);
            opacity: 0.8; pointer-events: none; z-index: 5; transition: height 1s ease;
        }

        .container { 
            position: relative; z-index: 100; max-width: 600px; margin: 10px auto;
            background: rgba(15, 23, 42, 0.95); padding: 20px; border-radius: 15px;
            border: 2px solid #1e293b; box-shadow: 0 0 30px rgba(0,0,0,1);
        }

        h1 { font-family: 'Frank Ruhl Libre', serif; text-align: center; color: var(--gold); font-size: 32px; margin: 0; }
        .soul-status { text-align: center; font-weight: bold; margin: 10px 0; font-size: 18px; transition: 0.3s; }
        
        .category-title { color: var(--gold); border-bottom: 1px solid var(--gold); margin: 20px 0 10px; padding-bottom: 5px; font-size: 20px; font-family: 'Frank Ruhl Libre', serif; }
        .item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #1e293b; }
        
        .info-btn { background: var(--gold); border: none; border-radius: 50%; width: 22px; height: 22px; cursor: pointer; font-weight: bold; font-size: 14px; margin-left: 5px; }
        .qty-controls { display: flex; align-items: center; gap: 10px; }
        .btn-qty { background: transparent; border: 1px solid var(--gold); color: var(--gold); width: 30px; height: 30px; cursor: pointer; font-size: 18px; }

        .footer-sticky { 
            position: sticky; bottom: 0; background: #0f172a; padding: 15px; 
            border: 2px solid var(--gold); border-radius: 10px; margin-top: 20px;
            display: flex; justify-content: space-between; align-items: center; z-index: 200;
        }

        #info-modal {
            display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: #1e293b; padding: 20px; border-radius: 10px; border: 2px solid var(--gold);
            z-index: 1000; width: 80%; max-width: 300px; text-align: center;
        }

        #fireworks-canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 10; }
        
        /* ×§×œ×£ ××•×¡×ª×¨ ×œ×™×™×¦×•× */
        #export-source { position: absolute; left: -9999px; width: 400px; padding: 30px; background: #fdf6e3; color: #4a3728; font-family: 'Frank Ruhl Libre', serif; border: 15px solid #4a3728; text-align: center; }
    </style>
</head>
<body>

<div id="hell-overlay"></div>
<canvas id="fireworks-canvas"></canvas>
<audio id="fire-sound" loop><source src="https://www.soundjay.com/nature/sounds/fire-1.mp3" type="audio/mpeg"></audio>

<div class="container">
    <h1>×××–× ×™ ×”×“×™×Ÿ</h1>
    <div id="soul-status" style="color: #10b981;">âœ¨ × ×©××” ×˜×”×•×¨×”</div>
    <p style="text-align:center; font-size: 14px; opacity: 0.8;">×¤×“×™×•×Ÿ ×™×•× ×ª×¢× ×™×ª: $3$ ×©"×—</p>

    <input type="text" id="user-name" placeholder="×©× ×”××‘×§×© ×œ×ª×¤×™×œ×”..." style="width:100%; padding:10px; background:#0f172a; border:1px solid #334155; color:white; border-radius:5px; margin-bottom: 10px; box-sizing: border-box;">

    <div id="sin-list"></div>

    <div class="footer-sticky">
        <div>
            <div style="font-size:12px;">×¡×”"×› ×¤×“×™×•×Ÿ:</div>
            <div style="font-size:24px; font-weight:bold; color:var(--gold);">â‚ª<span id="price-val">0</span></div>
        </div>
        <button onclick="shareWhatsApp()" style="background:#128c7e; color:white; padding:10px; border:none; border-radius:5px; font-weight:bold; cursor:pointer;">×©×ª×£ ×ª××•× ×”</button>
        <button onclick="pay()" style="background:var(--gold); color:black; padding:10px; border:none; border-radius:5px; font-weight:bold; cursor:pointer;">×ª×©×œ×•×</button>
    </div>
</div>

<div id="info-modal">
    <h3 id="m-title" style="color:var(--gold); margin-top:0;"></h3>
    <p id="m-desc" style="font-size:14px;"></p>
    <button onclick="closeModal()" style="background:var(--gold); border:none; padding:5px 15px; cursor:pointer; font-weight:bold;">×¡×’×•×¨</button>
</div>

<div id="export-source">
    <h1 style="color:#4a3728; border-bottom: 2px solid #4a3728;">×¡×“×¨ ×¤×“×™×•×Ÿ ×ª×¢× ×™×•×ª</h1>
    <p><strong>×œ×–×›×•×ª:</strong> <span id="exp-name"></span></p>
    <div id="exp-list" style="text-align:right; margin:15px 0;"></div>
    <div style="background: #efe4c9; padding: 10px; font-size: 22px; font-weight: bold; margin: 10px 0;">â‚ª<span id="exp-price">0</span></div>
    <p style="font-style:italic;">"×™Ö°×”Ö´×™ ×¨Ö¸×¦×•Ö¹×Ÿ ×©Ö¶××™Ö°Ö¼×”Öµ× ×¤Ö´Ö¼×“Ö°×™×•Ö¹×Ÿ ×–Ö¶×” ×ªÖ·Ö¼×—Ö·×ª ×ªÖ·Ö¼×¢Ö²× Ö´×™Ö¼×•Ö¹×ªÖ·×™..."</p>
</div>

<script>
    const paymentLink = "https://www.google.com"; // ×”×—×œ×£ ×‘×§×™×©×•×¨ ×©×œ×š
    
    const sins = [
        { cat: "×¢×•×•× ×•×ª ×©×‘×™×Ÿ ××“× ×œ××§×•×", items: [
            { n: "×. ×‘×™×˜×•×œ ××¦×•×•×ª ×¢×©×”", f: 61, d: "×‘×™×˜×•×œ ×§×¨×™××ª ×©××¢, ×ª×¤×™×œ×™×Ÿ, ×¦×™×¦×™×ª ××• ×¡×•×›×”." },
            { n: "×‘. ×—×˜× ×‘××—×©×‘×”", f: 87, d: "×”×¨×”×•×¨×™ ×¢×‘×™×¨×”, ×›×¤×™×¨×” ××• ×©× ××ª ×—×™× ×." },
            { n: "×’. ×™×™×Ÿ × ×¡×š", f: 73, d: "×©×ª×™×™×ª ×™×™×Ÿ ××’×¢ × ×›×¨×™." },
            { n: "×“. ×”× ×•×“×¨ ×•×œ× ××§×™×™×", f: 6, d: "××™ ×¢××™×“×” ×‘× ×“×¨×™×." },
            { n: "×”. ×”× ×©×‘×¢ ×œ×©×§×¨", f: 37, d: "×—×™×œ×•×œ ×©× ×©××™×™× ×‘×©×‘×•×¢×ª ×©×•×•×." },
            { n: "×•. ×”×—×•×˜× ×‘×’××•×•×”", f: 55, d: "×©×•×¨×© ×›×œ ×”×¢×‘×™×¨×•×ª." },
            { n: "×–. ×¤×’× ×›×™×‘×•×“ ××‘ ×•××", f: 26, d: "×–×œ×–×•×œ ×‘×›×‘×•×“ ×”×”×•×¨×™×." },
            { n: "×—. ×”××§×œ×œ ××‘×™×• ×•×××•", f: 40, d: "×¢×‘×™×¨×” ×—××•×¨×” ××”×ª×•×¨×”." },
            { n: "×˜. ×¤×’× ×‘××•×¨× ×”×•×¨×™×", f: 45, d: "××™ ×©××™×¨×” ×¢×œ ×™×¨××ª ×”×•×¨×™×." },
            { n: "×™. ×”×—×•×˜× ×‘×›×¢×¡", f: 151, d: "×”×›×•×¢×¡ ×›××™×œ×• ×¢×•×‘×“ ×¢×‘×•×“×” ×–×¨×”." }
        ]},
        { cat: "×§×“×•×©×” ×•×¢×¨×™×•×ª", items: [
            { n: "×™×. ×ª×™×§×•×Ÿ ×›×œ×œ×™ (×“' ××™×ª×•×ª)", f: 200, d: "×¤×“×™×•×Ÿ ×›× ×’×“ ×—×™×•×‘×™ ××™×ª×•×ª ×‘×™×ª ×“×™×Ÿ." },
            { n: "×™×‘. ×”×•×¦××ª ×–×¨×¢ ×œ×‘×˜×œ×”", f: 84, d: "×¤×’× ×”×‘×¨×™×ª ×•×”×™×¡×•×“." },
            { n: "×™×’. ×”×‘×•×¢×œ × ×™×“×”", f: 82, d: "××™×¡×•×¨ ×›×¨×ª ×—××•×¨." },
            { n: "×™×“. ×”×‘× ×¢×œ ×‘×”××”", f: 216, d: "×—×˜× ×”××•×¨×™×“ ××”×“×¨×’×” ×”×× ×•×©×™×ª." },
            { n: "×˜×•. ×”×‘× ×¢×œ ×”×’×•×™×”", f: 216, d: "×¤×’×™×¢×” ×‘×‘×¨×™×ª ×§×•×“×©." },
            { n: "×˜×–. ×”×‘× ×¢×œ ×”×–×›×¨", f: 233, d: "××©×›×‘ ×–×›×¨." },
            { n: "×™×–. ××›×™×œ×ª × ×‘×œ×•×ª", f: 87, d: "×˜×™××•× ×”×œ×‘ ×‘××›×™×œ×” ××¡×•×¨×”." },
            { n: "×™×—. ×××›×œ×•×ª ××¡×•×¨×™×", f: 91, d: "×˜×‘×œ, ×¢×¨×œ×” ×•×©×§×¦×™×." },
            { n: "×™×˜. ×”×‘× ×¢×œ ××©×ª ××™×©", f: 325, d: "×—×˜× ×—××•×¨ ×‘×§×“×•×©×ª ×”×‘×™×ª." },
            { n: "×›. ×”×›×•×ª×‘ ×§××™×¢×•×ª", f: 45, d: "×©×™××•×© ×‘×©××•×ª ×”×§×•×“×© ×©×œ× ×›×“×™×Ÿ." }
        ]},
        { cat: "×‘×™×Ÿ ××“× ×œ×—×‘×¨×•", items: [
            { n: "×›×. ×”××œ×‘×™×Ÿ ×¤× ×™ ×—×‘×¨×•", f: 40, d: "×‘×™×•×© ××“× ×‘×¨×‘×™×." },
            { n: "×›×‘. ×—×™×‘×•×§ ×•× ×™×©×•×§ × ×™×“×”", f: 40, d: "×§×¨×‘×” ×’×•×¤× ×™×ª ××¡×•×¨×”." },
            { n: "×›×’. ×’× ×™×‘×”/×¨×™×‘×™×ª", f: 40, d: "×’×–×œ ×××•×Ÿ ××• ×”×œ×•×•××” ××¡×•×¨×”." },
            { n: "×›×“. ×œ×©×•×Ÿ ×”×¨×¢", f: 40, d: "×“×™×‘×•×¨ ×‘×’× ×•×ª ×”×–×•×œ×ª." }
        ]}
    ];

    let counts = {};
    let fw = true;

    function init() {
        const root = document.getElementById('sin-list');
        sins.forEach(c => {
            const h = document.createElement('div'); h.className = 'category-title'; h.innerText = c.cat;
            root.appendChild(h);
            c.items.forEach(i => {
                counts[i.n] = 0;
                const div = document.createElement('div'); div.className = 'item';
                div.innerHTML = `<div><button class="info-btn" onclick="showInfo('${i.n}','${i.d}')">?</button><strong>${i.n}</strong></div>
                    <div class="qty-controls"><button class="btn-qty" onclick="upd('${i.n}',-1)">-</button>
                    <span id="q-${i.n}">0</span><button class="btn-qty" onclick="upd('${i.n}',1)">+</button></div>`;
                root.appendChild(div);
            });
        });
        startFW();
    }

    function upd(n, d) {
        counts[n] = Math.max(0, counts[n] + d);
        document.getElementById(`q-${n}`).innerText = counts[n];
        calc();
    }

    function calc() {
        let totalF = 0;
        sins.forEach(c => c.items.forEach(i => totalF += counts[i.n] * i.f));
        const price = totalF * 3;
        document.getElementById('price-val').innerText = price.toLocaleString();

        const fire = document.getElementById('hell-overlay');
        const status = document.getElementById('soul-status');
        const snd = document.getElementById('fire-sound');

        if (totalF > 0) {
            fw = false; fire.style.height = Math.min(100, (totalF / 500) * 100) + "%";
            status.innerText = "ğŸ”¥ × ×©××” ×‘×¡×›× ×ª ×’×™×”× ×•×"; status.style.color = "#ef4444";
            snd.play().catch(() => {});
        } else {
            fw = true; fire.style.height = "0%"; status.innerText = "âœ¨ × ×©××” ×˜×”×•×¨×”"; status.style.color = "#10b981";
            snd.pause(); snd.currentTime = 0; startFW();
        }
    }

    function pay() { window.location.href = paymentLink + "?amount=" + document.getElementById('price-val').innerText; }

    async function shareWhatsApp() {
        const name = document.getElementById('user-name').value || "×¤×œ×•× ×™";
        document.getElementById('exp-name').innerText = name;
        document.getElementById('exp-price').innerText = document.getElementById('price-val').innerText;
        let l = "<ul>";
        Object.keys(counts).forEach(k => { if(counts[k]>0) l += `<li>${k}: ${counts[k]}</li>`; });
        document.getElementById('exp-list').innerHTML = l + "</ul>";

        const canvas = await html2canvas(document.getElementById('export-source'));
        canvas.toBlob(async (blob) => {
            const f = new File([blob], 'tikun.png', { type: 'image/png' });
            if (navigator.share) await navigator.share({ files: [f], title: '×¤×“×™×•×Ÿ ×ª×¢× ×™×•×ª' });
            else { const a = document.createElement('a'); a.download = 'tikun.png'; a.href = URL.createObjectURL(blob); a.click(); }
        });
    }

    function showInfo(t, d) { document.getElementById('m-title').innerText = t; document.getElementById('m-desc').innerText = d; document.getElementById('info-modal').style.display = 'block'; }
    function closeModal() { document.getElementById('info-modal').style.display = 'none'; }

    function startFW() {
        if (!fw) return;
        const c = document.getElementById('fireworks-canvas'); const ctx = c.getContext('2d');
        c.width = window.innerWidth; c.height = window.innerHeight;
        let p = [];
        function anim() {
            if (!fw) { ctx.clearRect(0,0,c.width,c.height); return; }
            ctx.clearRect(0,0,c.width,c.height);
            p.forEach((i,idx) => { i.x+=i.vx; i.y+=i.vy; i.a-=0.01; ctx.globalAlpha=i.a; ctx.fillStyle=i.c; ctx.beginPath(); ctx.arc(i.x,i.y,2,0,7); ctx.fill(); if(i.a<=0) p.splice(idx,1); });
            if(Math.random()<0.05) { const x=Math.random()*c.width, y=Math.random()*c.height/2; for(let k=0;k<15;k++) p.push({x,y,c:`hsl(${Math.random()*360},70%,50%)`,vx:(Math.random()-0.5)*5,vy:(Math.random()-0.5)*5,a:1}); }
            requestAnimationFrame(anim);
        }
        anim();
    }
    init();
</script>
</body>
</html>
